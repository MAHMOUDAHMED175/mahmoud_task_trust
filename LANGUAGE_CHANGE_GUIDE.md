# ุฏููู ุชุบููุฑ ุงููุบุฉ ูู ุงูุชุทุจูู

## ุงูุฎูููุฉ
ุชู ุฅุตูุงุญ ูุดููุฉ `toEntity()` ุงูุชู ูุงูุช ุชุชููุน ูุนุงูู ูุงุญุฏ (`bool isArabic`) ููู ูู ุชูู ุชุณุชูุจู ุฃู ูุนุงููุงุช.

## ุงูุชุบููุฑุงุช ุงููููุฌุฒุฉ

### 1. **ุชุญุฏูุซ AppPreferences** 
   - ุฅุถุงูุฉ ุฏุงูุฉ `setLanguage(bool isArabic)` ูุญูุธ ุชูุถูู ุงููุบุฉ
   - ุฅุถุงูุฉ ุฏุงูุฉ `getLanguageCode()` ููุญุตูู ุนูู ุฑูุฒ ุงููุบุฉ

### 2. **ุฅูุดุงุก LanguageCubit**
   - ุฅุฏุงุฑุฉ ุญุงูุฉ ุงููุบุฉ ูู ุงูุชุทุจูู
   - ุฅุนุงุฏุฉ ุจูุงุก ุชููุงุฆูุฉ ุนูุฏ ุชุบููุฑ ุงููุบุฉ
   - ุงูุฏูุงู ุงูุฑุฆูุณูุฉ:
     - `initializeLanguage()`: ุชุญููู ุงููุบุฉ ุงููุญููุธุฉ ุนูุฏ ุจุฏุก ุงูุชุทุจูู
     - `changeLanguage(bool isArabic)`: ุชุบููุฑ ุงููุบุฉ ุฅูู ูุบุฉ ูุญุฏุฏุฉ
     - `toggleLanguage()`: ุงูุชุจุฏูู ุจูู ุงูุฅูุฌููุฒูุฉ ูุงูุนุฑุจูุฉ

### 3. **ุชุญุฏูุซ main.dart**
   - ุฅุถุงูุฉ `BlocProvider` ูู `LanguageCubit`
   - ุงุณุชุฎุฏุงู `BlocBuilder` ูุฅุนุงุฏุฉ ุจูุงุก `MaterialApp` ุนูุฏ ุชุบููุฑ ุงููุบุฉ
   - ุถุจุท `locale` ุฏููุงููููุงู

### 4. **ุชุญุฏูุซ CategoriesScreen**
   - ุฅุถุงูุฉ ุฒุฑ ูุบุฉ (๐) ูู AppBar
   - ุนูุฏ ุงูุถุบุท ุนูู ุงูุฒุฑุ ูุชู ุงุณุชุฏุนุงุก `toggleLanguage()` ูู LanguageCubit

### 5. **ุฅุนุฏุงุฏ Dependency Injection**
   - ุชุณุฌูู `AppPreferencesImpl` ูู injectable
   - ุชุณุฌูู `LanguageCubit` ูู injectable
   - ุฅุนุงุฏุฉ ุชุดุบูู build_runner ูุชุญุฏูุซ ุงููููุงุช ุงููููุดุฃุฉ ุชููุงุฆูุงู

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุชุบููุฑ ุงููุบุฉ ูู ุฃู Cubit ุฃู Widget
```dart
// ูู Cubit
context.read<LanguageCubit>().changeLanguage(true); // ุชุบููุฑ ุฅูู ุงูุนุฑุจูุฉ
context.read<LanguageCubit>().changeLanguage(false); // ุชุบููุฑ ุฅูู ุงูุฅูุฌููุฒูุฉ

// ุฃู ุงูุชุจุฏูู ุจูู ุงููุบุงุช
context.read<LanguageCubit>().toggleLanguage();
```

### ุงูุญุตูู ุนูู ุญุงูุฉ ุงููุบุฉ ุงูุญุงููุฉ
```dart
final isArabic = await getIt<AppPreferences>().isArabic();
final languageCode = await getIt<AppPreferences>().getLanguageCode();
```

## ุงููุชูุฌุฉ ุงูููุงุฆูุฉ
ุงูุขู ุนูุฏ ุชุบููุฑ ุงููุบุฉ:
1. ูุชู ุญูุธ ุงููุบุฉ ูู SharedPreferences
2. ูุนุงุฏ ุจูุงุก ุชุทุจูู Flutter ูุงููุงู
3. ุชุชุบูุฑ ุฌููุน ุงููุตูุต ูู ุงูุชุทุจูู ููุฑุงู (ุจูุง ูููุง ุงูุงุชุฌุงู)
4. ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจููุ ูุชู ุชุญููู ุงููุบุฉ ุงููุญููุธุฉ ุชููุงุฆูุงู
